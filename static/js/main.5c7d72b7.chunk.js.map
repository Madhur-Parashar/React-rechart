{"version":3,"sources":["components/Landing.js","App.js","index.js"],"names":["RangePicker","DatePicker","Content","Layout","Landing","state","pagination","pageSize","highestDate","lowestDate","disabledDate","defaultDate","tableChartData","data","onChange","date","dateString","console","log","modifyData","Object","toConsumableArray","_this","filter","val","timestamp","pager","objectSpread","total","length","setState","moment","current","handleTableChange","filters","sorter","render","react_default","a","createElement","layout","style","background","padding","margin","textAlign","marginBottom","className","value","es6","width","height","dataKey","strokeDasharray","type","stroke","table","columns","title","dataIndex","rowKey","dataSource","_this2","this","params","method","url","axios","then","responseData","res","map","index","obj","eCPM","revenue","impressions","toFixed","sort","b","Date","catch","err","message","error","Component","App","Landing_Landing","ReactDOM","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5c7d72b7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n// import logo from './logo.svg';\r\nimport { Layout, DatePicker, Table, message } from \"antd\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport \"./landing.css\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend\r\n} from \"recharts\";\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst { Content } = Layout;\r\n\r\nexport default class Landing extends Component {\r\n  state = {\r\n    pagination: { pageSize: 5 },\r\n    highestDate: null,\r\n    lowestDate: null,\r\n    disabledDate: false,\r\n    defaultDate: [],\r\n    tableChartData: null,\r\n    data: []\r\n  };\r\n  componentDidMount() {\r\n    const url = \"http://www.mocky.io/v2/5cd04a20320000442200fc10\";\r\n    let params = {\r\n      method: \"GET\",\r\n      url: url\r\n    };\r\n\r\n    axios(params)\r\n      .then(responseData => {\r\n       \r\n        let res = responseData.data.map((data, index) => {\r\n          let obj = { ...data };\r\n          let eCPM = (obj.revenue / obj.impressions) * 1000;\r\n          obj[\"eCPM\"] = eCPM.toFixed(3);\r\n          return obj;\r\n        });\r\n        res.sort(function(a, b) {\r\n          var date1 = new Date(a.timestamp);\r\n          var date2 = new Date(b.timestamp);\r\n          return date1 - date2;\r\n        });\r\n\r\n        var highestDate = res[res.length - 1].timestamp;\r\n \r\n\r\n        var lowestDate = res[0].timestamp;\r\n       \r\n        const pager = { ...this.state.pagination };\r\n        pager.total = res.length;\r\n        this.setState({\r\n          data: res,\r\n          lowestDate: lowestDate,\r\n          highestDate: highestDate,\r\n          tableChartData: res,\r\n          pagination: pager,\r\n          defaultDate: [moment(lowestDate), moment(highestDate)]\r\n        });\r\n      })\r\n      .catch(err => {\r\n        message.error(\"Check your internet connection...\");\r\n      });\r\n  }\r\n  onChange = (date, dateString) => {\r\n    console.log(date, dateString);\r\n    let data = [...this.state.data];\r\n    let modifyData = data.filter(\r\n      val => val.timestamp >= dateString[0] && val.timestamp <= dateString[1]\r\n    );\r\n    console.log(modifyData);\r\n    const pager = { ...this.state.pagination };\r\n    pager.total = modifyData.length;\r\n    this.setState({\r\n      tableChartData: modifyData,\r\n      pagination: pager,\r\n      defaultDate: [moment(dateString[0]), moment(dateString[1])]\r\n    });\r\n  };\r\n\r\n  disabledDate = current => {\r\n    return (\r\n      current < moment(this.state.lowestDate) ||\r\n      current > moment(this.state.highestDate)\r\n    );\r\n  };\r\n  handleTableChange = (pagination, filters, sorter) => {\r\n    const pager = { ...this.state.pagination };\r\n    pager.current = pagination.current;\r\n    pager.total = this.state.tableChartData.length;\r\n    this.setState({\r\n      pagination: pager\r\n    });\r\n  };\r\n  render = () => {\r\n    const columns = [\r\n      {\r\n        title: \"timestamp\",\r\n        dataIndex: \"timestamp\"\r\n      },\r\n      {\r\n        title: \"game\",\r\n        dataIndex: \"game\"\r\n      },\r\n      {\r\n        title: \"revenue\",\r\n        dataIndex: \"revenue\"\r\n      },\r\n      {\r\n        title: \"eCPM\",\r\n        dataIndex: \"eCPM\"\r\n      },\r\n      {\r\n        title: \"impressions\",\r\n        dataIndex: \"impressions\"\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <Layout\r\n        style={{\r\n          background: \"#F3F9FB\",\r\n          padding: 24,\r\n          margin: 0\r\n        }}\r\n      >\r\n        <Content>\r\n          <div style={{ textAlign: \"center\", marginBottom: 40 }}>\r\n            <div className=\"rangeSelection\">Select range</div>\r\n            <RangePicker\r\n              onChange={this.onChange}\r\n              disabledDate={this.disabledDate}\r\n              value={this.state.defaultDate}\r\n            />\r\n          </div>\r\n\r\n          <LineChart\r\n            width={800}\r\n            height={400}\r\n            style={{ margin: \"auto\" }}\r\n            data={this.state.tableChartData}\r\n          >\r\n            <XAxis dataKey=\"timestamp\" />\r\n            <YAxis />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Line type=\"monotone\" dataKey=\"eCPM\" stroke=\"#82ca9d\" />\r\n          </LineChart>\r\n\r\n          <Table\r\n            columns={columns}\r\n            rowKey=\"eCPM\"\r\n            pagination={this.state.pagination}\r\n            onChange={this.handleTableChange}\r\n            dataSource={this.state.tableChartData}\r\n          />\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\n\nimport \"./App.css\";\n\nimport Landing from \"./components/Landing\";\n\nexport default class App extends Component {\n  render = () => {\n    return (\n      <div>\n        <Landing />\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}